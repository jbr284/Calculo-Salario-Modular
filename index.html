<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Calculadora de Salário Mensal</title>
  <link rel="stylesheet" href="style.css">
  <link rel="manifest" href="manifest.json">
  <link rel="icon" href="icons/icon-192.png">
  <meta name="theme-color" content="#0d47a1">
</head>
<body>
  <div class="container">
    <h1 class="main-title">Cálculo de Salário Mensal</h1>
    
    <div id="form-view">
        <form id="formulario">
            <input type="hidden" id="diasUteis" />
            <input type="hidden" id="domFeriados" />
            <input type="hidden" id="feriadosExtras" />

            <div class="layout-grid">
                
                <div class="column">
                    <h2 class="column-title">Dados Iniciais</h2>
                    
                    <div class="input-group">
                        <label for="mesReferencia">Mês de Referência (Obrigatório)</label>
                        <input type="month" id="mesReferencia" required />
                    </div>

                    <div class="input-group">
                        <label for="salario">Salário Mensal (R$)</label>
                        <input type="text" id="salario" inputmode="decimal" placeholder="Ex: 3500,00" required />
                    </div>

                    <div class="input-group">
                        <label class="label-bold">Situação do Funcionário</label>
                        <div class="radio-stack">
                            <label><input type="radio" name="tipoDias" value="completo" checked /> 1. Mês Completo (30 Dias)</label>
                            <label><input type="radio" name="tipoDias" value="saida_ferias" /> 2. Mês de Férias</label>
                            <label><input type="radio" name="tipoDias" value="retorno_ferias" /> 3. Mês de Retorno de Férias</label>
                        </div>

                        <div id="box-calculo-ferias" class="ferias-box hidden">
                            <label style="font-size: 0.9em; font-weight:bold; color:#0d47a1;">Dados das Férias:</label>
                            <div class="ferias-grid">
                                <div id="col-data">
                                    <label id="lbl-data-ferias" style="font-size:0.85em;">Dia da saída</label>
                                    <select id="inicioFerias">
                                        <option value="">dia do mês</option>
                                        <option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option>
                                        <option value="6">6</option><option value="7">7</option><option value="8">8</option><option value="9">9</option><option value="10">10</option>
                                        <option value="11">11</option><option value="12">12</option><option value="13">13</option><option value="14">14</option><option value="15">15</option>
                                        <option value="16">16</option><option value="17">17</option><option value="18">18</option><option value="19">19</option><option value="20">20</option>
                                        <option value="21">21</option><option value="22">22</option><option value="23">23</option><option value="24">24</option><option value="25">25</option>
                                        <option value="26">26</option><option value="27">27</option><option value="28">28</option><option value="29">29</option><option value="30">30</option><option value="31">31</option>
                                    </select>
                                </div>
                                <div id="col-qtd">
                                    <label style="font-size:0.85em;">Duração</label>
                                    <input type="number" id="qtdDiasFerias" placeholder="Ex: 30">
                                </div>
                            </div>
                            <p id="feedback-ferias" style="font-size: 0.8em; margin-top:5px; font-style:italic; color:#555;"></p>
                        </div>
                    </div>

                    <div class="input-group">
                        <label for="diasTrab">Dias de Salário a Pagar</label>
                        <input type="number" id="diasTrab" readonly class="input-readonly" value="30" />
                    </div>

                    <div class="input-group">
                        <label for="dependentes">Dependentes</label>
                        <input type="number" id="dependentes" />
                    </div>

                    <div class="input-group">
                        <label class="label-bold">Feriados Regionais</label>
                        <div class="feriado-box-container">
                            <p class="hint-text"><strong>Dica:</strong> Adicione feriados municipais.</p>
                            <div class="feriado-inputs">
                                <select id="diaFeriado">
                                    <option value="">Dia</option>
                                    <option value="01">1</option><option value="02">2</option><option value="03">3</option><option value="04">4</option><option value="05">5</option><option value="06">6</option><option value="07">7</option><option value="08">8</option><option value="09">9</option><option value="10">10</option><option value="11">11</option><option value="12">12</option><option value="13">13</option><option value="14">14</option><option value="15">15</option><option value="16">16</option><option value="17">17</option><option value="18">18</option><option value="19">19</option><option value="20">20</option><option value="21">21</option><option value="22">22</option><option value="23">23</option><option value="24">24</option><option value="25">25</option><option value="26">26</option><option value="27">27</option><option value="28">28</option><option value="29">29</option><option value="30">30</option><option value="31">31</option>
                                </select>
                                <button type="button" id="btn-add-feriado" class="btn-gray">Adicionar</button>
                                <button type="button" id="btn-limpar-feriados" class="btn-red">Limpar</button>
                            </div>
                            <div id="listaFeriados" class="tags-container"></div>
                        </div>
                    </div>
                </div>

                <div class="column">
                    <h2 class="column-title">Proventos</h2>
                    
                    <div class="input-group">
                        <label>Horas Extra 50%</label>
                        <input type="text" id="he50" class="hora-conversivel" placeholder="Ex: 5.5 ou 5:30">
                    </div>
                    <div class="input-group">
                        <label>Horas Extra 60%</label>
                        <input type="text" id="he60" class="hora-conversivel" placeholder="Ex: 5.5 ou 5:30">
                    </div>
                    <div class="input-group">
                        <label>Horas Extra 80%</label>
                        <input type="text" id="he80" class="hora-conversivel" placeholder="Ex: 5.5 ou 5:30">
                    </div>
                    <div class="input-group">
                        <label>Horas Extra 100%</label>
                        <input type="text" id="he100" class="hora-conversivel" placeholder="Ex: 5.5 ou 5:30">
                    </div>
                    <div class="input-group">
                        <label>Horas Extra 150%</label>
                        <input type="text" id="he150" class="hora-conversivel" placeholder="Ex: 5.5 ou 5:30">
                    </div>
                    <div class="input-group">
                        <label>Adicional Noturno (horas)</label>
                        <input type="text" id="noturno" class="hora-conversivel" placeholder="Ex: 5.5 ou 5:30">
                    </div>
                </div>

                <div class="column">
                    <h2 class="column-title">Descontos</h2>
                    
                    <div class="input-group">
                        <label>Faltas (dias)</label>
                        <input type="text" id="faltas" inputmode="decimal">
                    </div>
                    <div class="input-group">
                        <label>Atrasos (horas)</label>
                        <input type="text" id="atrasos" class="hora-conversivel" placeholder="Ex: 5.5 ou 5:30">
                    </div>
                    <div class="input-group">
                        <label>Descontar Vale-Transporte (6%)?</label>
                        <select id="descontar_vt">
                            <option value="nao">Não</option>
                            <option value="sim">Sim</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label>Convênio SESI</label>
                        <select id="plano">
                            <option value="nenhum">Nenhum</option>
                            <option value="basico_individual">Básico Individual</option>
                            <option value="basico_familiar">Básico Familiar</option>
                            <option value="plus_individual">Plus Individual</option>
                            <option value="plus_familiar">Plus Familiar</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label>Mensalidade Sindical</label>
                        <select id="sindicato">
                            <option value="nao">Não Associado</option>
                            <option value="sim">Associado</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label>Empréstimo Consignado (R$)</label>
                        <input type="text" id="emprestimo" inputmode="decimal" />
                    </div>
                </div>

            </div>
        </form>
        
        <div class="actions-footer">
            <button type="button" id="btn-calcular" class="btn-primary">Calcular</button>
            <button type="button" id="btn-salvar" class="btn-secondary">Salvar Dados</button>
        </div>
    </div>

    <div id="result-view" class="hidden">
      <div id="resultado-container"></div>
      <div class="actions-footer">
          <button type="button" id="btn-voltar" class="btn-secondary">Calcular Novamente</button>
          <button type="button" id="btn-pdf" class="btn-primary" style="background-color: #d32f2f;">Baixar PDF</button>
      </div>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
  <script src="app.js"></script>
</body>
</html>
